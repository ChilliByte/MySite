<html>
  <head>
    <title>Pi</title>
  </head>
  <body>
    <style>
      html, body {
        height:100%;
        width:100%;
        margin:0;
        padding:0;
        background-color:black;
        font-family:Calibri;
      }
      canvas {
        border: 1px solid black;
        margin: auto;
        position:fixed;
        top:0;
        bottom:0;
        left:0;
        right:0;
      }
    </style>
    <canvas id="myCanvas"></canvas>
    <script>
      var canvas = document.getElementById('myCanvas');
      var ctx = canvas.getContext("2d");
      var w = Math.min(window.innerHeight,window.innerWidth);
      canvas.height = w;
      canvas.width = w;
      
      var r,g,b;
      function getColor(x,y,z) {
        return "rgb(" + Math.floor((x/w)*255) + ","+ Math.floor((y/w)*255)+ "," + Math.floor((z/w)*255) + ")";
      }
      var pi = "314159265358979323846264338327950288419716939937510582097494459230781640628620899862803482534211706798214808651328230664709384460955058223172535940812848111";
      
      // shim layer with setTimeout fallback
      window.requestAnimFrame = (function(){
        return  window.requestAnimationFrame       ||
                window.webkitRequestAnimationFrame ||
                window.mozRequestAnimationFrame    ||
                function( callback ){
                  window.setTimeout(callback, 1000 / 60);
                };
      })();
      
      // usage:
      // instead of setInterval(render, 16) ....
      
      var oX = w/2;
      var loop = true;
      var x = 16;
      var y = 16;
      var c = 0;
      var d = 0;
      function render() {
        if(loop) {
          if(c == pi[d]+1) {
            ctx.fillStyle=getColor((0.8*w),x,y);
            c = 0;
            d++;
          } else {
            ctx.fillStyle = getColor(x,y,(0.8*w));
          }
          ctx.beginPath();
          ctx.arc(x,y,5,0,2*Math.PI);
          ctx.fill();
          
          x+=16
          if (x == 784) {
            y+=16
            x=16;
          }
          if (y == 784) {
            loop = false
          }
          c++
        }
      }
      
      (function animloop(){
        requestAnimFrame(animloop);
        render();
      })();
      canvas.addEventListener("mousedown", getPosition, false);
      
      
    </script>
  </body>
</html>
